<ion-view view-title="Server Recency Data" >

    <div class="backgroundimg" ng-show="showauth" >
        <div class="authWrapper">
            <div class="container" >
              <ion-content >
                <div class="logo"> <img src="img/icon.png" alt=""></div>
                <div class="loginFields">
                    <div class="row">
                      <form class="col loginForm" name="loginForm" >
                   
                            <div class="row">
                                <div class="input-field col ">
                                    <input id="email" type="email" name ="email" class="userName" ng-model='loginData.email' placeholder="abc@deforay.com" required>
                                    <span style="color:red" ng-show="loginForm.email.$dirty && loginForm.email.$invalid">
                                          <span ng-show="loginForm.email.$error.required">Email is required.</span>
                                          <span ng-show="loginForm.email.$error.email">Invalid email address.</span>
                                          </span>
                                  </div>
                            </div>
                            <div class="row">
                                <div class="input-field col ">
                                    <input id="serverpassword" type="password" class="password" name="serverpassword" ng-model='loginData.serverpassword' placeholder="Server Password" minlength="3" maxlength="10" required>
                                    <span style="color:red" ng-show="loginForm.serverpassword.$dirty && loginForm.serverpassword.$invalid">
                                          <span ng-show="loginForm.serverpassword.$error.required">Server Password is required.</span>
                                          </span> 
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col ">
                                    <button class="button button-block  waves-effect waves-light" type="submit" name="action" ng-disabled="loginForm.serverHost.$dirty && loginForm.serverHost.$invalid ||
                                     loginForm.serverpassword.$dirty && loginForm.serverpassword.$invalid ||
                                    loginForm.email.$dirty && loginForm.email.$invalid" ng-click="doLogin(loginData)">LOGIN
                                    </button>
                                </div>
                              </div>
                        </form>
                        
                    </div>
                </div>
                </ion-content>
            </div>      
        </div>
      </div>
      <ion-content class="animate-fade-slide-in"  ng-hide="showauth">
            <!-- <div class="recency-view">
               <div class="item card-item" style="border:none" >   
                  <a class="card stable-bg ink ink-dark">
                     <div class="table-header">
                        <span style="float: left ">Patient Details</span>
                     </div>
                    <div class="item item-text-wrap" style="border: 1px solid #e4e4e4;">
                      Recency Details
                    </div>
                  </a>
                </div>
                <div class="item card-item" style="border:none" >   
                    <a class="card stable-bg ink ink-dark">
                       <div class="table-header">
                          <span style="float: left ">Other Details</span>
                       </div>
                      <div class="item item-text-wrap" style="border: 1px solid #e4e4e4;">
                        Recency Details
                      </div>
                    </a>
                </div>
            </div> -->

            <ion-list type="list-inset"  ng-hide="showauth">
                <h3 style="font-size:17px"> Recency Reporting</h3>
              <div style="overflow-x:auto;margin-bottom: 30px;">
            <table class="table table-bordered table-striped order-table" style="width: 100%" id="ordertable">
              <tr style="white-space: nowrap">
                <th>Date Of Testing</th>
                <th>Sample ID / Patient ID</th>
                <th>Assay Test Result</th>
                <!-- <th>Final Test Result with VL</th> -->
                <th style="text-align: center">Facility</th>
                <th>HIV+ Diag Date</th>
                <th>Control Line</th>
                <th>Positive Verification Line</th>
                <th>Long Term Verification Line</th>
              </tr>
              <tr ng-repeat="recency in recencyDatas " >
                <td>{{ recency['hiv_recency_date']| date: "dd-MMM-yyyy"}}</td>
                <td class="orderid">
                <p>{{ recency['sample_id'] }} </p> 
                <p>
                  {{ recency['patient_id'] }}</p>
               </td>
                <td> 
                  <p style="color:red"  ng-if="recency['term_outcome']!='Long Term' && recency['term_outcome']!='Assay Recent'">{{recency['term_outcome']}}</p>
                  <p ng-if="recency['term_outcome']=='Long Term' || recency['term_outcome']=='Assay Recent'">{{recency['term_outcome']}}</p>
                </td>
                <!-- <td>{{recency['term_outcome']}}</td> -->
                <!-- <td>{{recency['final_outcome']}}</td> -->
                <td>{{ recency['facility_name'] }}</td>
                <td>{{ recency['hiv_diagnosis_date'] | date: "dd-MMM-yyyy" }}</td>
                <td ng-if="recency['control_line']=='present'">Present(Positive/P)</td>
                <td ng-if="recency['control_line']=='absent'">Absent(Negative/N)</td>
                <td ng-if="recency['control_line']=='invalid'">Invalid</td>
                <td ng-if="recency['control_line']=='no_result'">Result Not Available</td>
                <td ng-if="recency['control_line']=='' || recency['control_line']== 'null'">{{ recency['control_line'] }}</td>

                <td ng-if="recency['positive_verification_line']=='present'">Present(Positive/P)</td>
                <td ng-if="recency['positive_verification_line']=='absent'">Absent(Negative/N)</td>
                <td ng-if="recency['positive_verification_line']=='invalid'">Invalid</td>
                <td ng-if="recency['positive_verification_line']=='no_result'">Result Not Available</td>
                <td ng-if="recency['positive_verification_line']==''  || recency['positive_verification_line']== 'null'">{{ recency['positive_verification_line'] }}</td>

                <td ng-if="recency['long_term_verification_line']=='present'">Present(Long Term/LT)</td>
                <td ng-if="recency['long_term_verification_line']=='absent'">Absent(Recent/R)</td>
                <td ng-if="recency['long_term_verification_line']=='invalid'">Invalid</td>
                <td ng-if="recency['long_term_verification_line']=='no_result'">Result Not Available</td>
                <td ng-if="recency['long_term_verification_line']=='' || recency['long_term_verification_line']== 'null'">{{ recency['long_term_verification_line'] }}</td>
               
              </tr>
              
              
            </table>
          </div>
         </ion-list>
          </ion-content>
</ion-view>


     
     
